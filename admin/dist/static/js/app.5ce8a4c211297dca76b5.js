webpackJsonp([1,2],[,,,,,,,,,,,,function(t,s,e){"use strict";var a=e(33),i=e.n(a),n=e(95);e.n(n);e.d(s,"a",function(){return l}),console.warn(i.a);var r={apiKey:"AIzaSyB1IjoxSLvx-C_hpyQ2irgzB01Tf3bts3I",authDomain:"vk-free-likes.firebaseapp.com",databaseURL:"https://vk-free-likes.firebaseio.com",storageBucket:"vk-free-likes.appspot.com",messagingSenderId:"19336089245"},o={},u={};i.a&&(o=i.a.initializeApp(r),u=i.a.database());var l=u},,,,,,,,,,,,,,,,,,,,,,function(t,s,e){e(90);var a=e(0)(e(48),e(102),"data-v-49e8c142",null);t.exports=a.exports},function(t,s,e){e(93);var a=e(0)(e(50),e(105),"data-v-6be28c48",null);t.exports=a.exports},function(t,s,e){"use strict";var a=e(21),i=e.n(a),n=e(107),r=e.n(n),o=e(97),u=e.n(o),l=e(35),c=e.n(l),_=e(34),v=e.n(_),d=e(96),f=e.n(d);i.a.use(r.a),s.a=new r.a({routes:[{path:"/",name:"Main",component:u.a,children:[{path:"users",name:"Users",component:c.a},{path:"stats",name:"stats",component:v.a},{path:"background",name:"background",component:f.a}]}]})},function(t,s,e){"use strict";function a(t){var s=[];for(var e in t)s.push(t[e]);return s}s.a=a},function(t,s){},function(t,s,e){e(89);var a=e(0)(e(44),e(101),null,null);t.exports=a.exports},,,,function(t,s,e){"use strict";var a=e(54),i=e.n(a),n=e(55),r=e.n(n),o=function(){function t(){i()(this,t)}return r()(t,[{key:"getCurrentTime",value:function(){var t=new Date;return{year:t.getFullYear(),day:t.getDay(),month:t.getMonth()+1,date:t.getDate(),minutes:t.getMinutes(),seconds:t.getSeconds(),hours:t.getHours(),milliseconds:t.getMilliseconds()}}},{key:"formatValue",value:function(t){return t<10&&(t="0"+t),t}},{key:"getFormattedTime",value:function(){var t=this.getCurrentTime(),s=t.hours;s<10&&(s="0"+s);var e=t.minutes;return e<10&&(e="0"+e),s+":"+e}},{key:"getDateForFirebase",value:function(){var t=this.getCurrentTime(),s=t.year,e=t.month,a=t.date;return s+"/"+this.formatValue(e)+"/"+this.formatValue(a)}},{key:"getDateForLogs",value:function(){var t=this.getCurrentTime(),s=t.year,e=t.month,a=t.date;return s+"-"+this.formatValue(e)+"-"+this.formatValue(a)}}]),t}();s.a=o},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"app"}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"background",data:function(){return{users:[],usersCount:0}},sockets:{connect:function(){var t=this;console.log("socket connected"),console.log(this.$socket),this.$socket.emit("count_online_users",function(s){console.log(s),t.users=s,t.usersCount=s.length})}},methods:{}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(6),i=e.n(a),n=e(51),r=e.n(n),o=e(34),u=e.n(o),l=e(35),c=e.n(l),_=e(99),v=e.n(_),d=e(7);s.default={name:"hello",data:function(){return{sortedUsers:[],global_stats:{users:{total:0,active:0,inactive:0}}}},methods:{getStats:function(t){var s=0,e=0;if(!t)return{you_liked:s,liked_you:e};if(this.stats&&this.stats.length>0&&this.users&&this.users.length>0){var a=0,i=!0,n=!1,o=void 0;try{for(var u,l=r()(this.stats);!(i=(u=l.next()).done);i=!0){var c=u.value;if(c[".key"]===t){s=this.stats[a].you_liked,e=this.stats[a].liked_you,this.users[t].you_liked=s,this.users[t].liked_you=e;break}a++}}catch(t){n=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw o}}}return{you_liked:s,liked_you:e}},removeUser:function(t){console.log(this.$firebaseRefs.users)}},computed:i()({},e.i(d.c)({users:function(t){return t.users}}),{isActive:function(){if(this.users&&this.users.length){var t=0;return this.users.forEach(function(s){s.isActive===!0&&t++}),t}return"loading..."},isNotActive:function(){return this.users&&this.users.length?this.users.length-this.isActive:"loading..."}}),components:{stats:u.a,users:c.a,tasks:v.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"recounters",data:function(){return{recountingLikes:{loading:!1},recountingUsers:{loading:!1}}},methods:{recountLikes:function(){var t=this;this.recountingLikes.loading=!0,setTimeout(function(){t.recountingLikes.loading=!1},3e3)},recountUsers:function(){var t=this;this.recountingUsers.loading=!0,setTimeout(function(){t.recountingUsers.loading=!1},1e3)}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(6),i=e.n(a),n=e(98),r=e.n(n),o=e(7),u=e(12),l=e(43),c=new l.a,_="/daily_statistics/"+c.getDateForFirebase(),v=function(t){return t?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 "):0};s.default={name:"stats",computed:i()({},e.i(o.b)(["globalStats","todayStats"]),{successLikes:function(){return 100*(this.globalStats.likes.all/(this.globalStats.errors.all+this.globalStats.likes.all)).toFixed(2)},errorLikes:function(){return(this.globalStats.errors.all/(this.globalStats.errors.all+this.globalStats.likes.all)*100).toFixed(2)},activeUsers:function(){return 100*(this.globalStats.users.active/this.globalStats.users.total).toFixed(2)},todayAllTasks:function(){return this.todayStats&&this.todayStats.tasks?this.todayStats.tasks.all:0},todayTasks:function(){return this.todayStats&&this.todayStats.tasks?this.todayStats.tasks||0:{all:0,success:0}}}),firebase:{globalStats:{source:u.a.ref("/global_stats"),asObject:!0},todayStats:{source:u.a.ref(_),asObject:!0}},components:{recounters:r.a},methods:{formatNumber:v}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(12);console.log(a.a),s.default={name:"tasks",data:function(){return{task:{user_id:"96170043",target_id:"96170043",item_id:"456239077"}}},methods:{setTask:function(t){var s=t.user_id,e=t.target_id,i=t.item_id;return!!(s&&e&&i)&&(a.a.ref("/tasks/"+s).push({object:s,target:e,item:i,createdAt:Date.now().toString(),status:0}),void console.log(s,e,i))}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(6),i=e.n(a),n=e(7);s.default={name:"users",data:function(){return{queryUsername:"",searchByUsername:""}},computed:i()({},e.i(n.c)({users:function(t){return t.users}}),{filteredUsers:function(){var t=this;console.log("hello");var s=0;return console.log(this.users),this.users.filter(function(e){return!(s>=30)&&(s++,!(!e||!e.username)&&e.username.toLowerCase().indexOf(t.queryUsername.toLowerCase())>-1)})}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},,function(t,s,e){e(91);var a=e(0)(e(45),e(103),null,null);t.exports=a.exports},function(t,s,e){e(88);var a=e(0)(e(46),e(100),"data-v-12be0f29",null);t.exports=a.exports},function(t,s,e){e(94);var a=e(0)(e(47),e(106),"data-v-e800c7cc",null);t.exports=a.exports},function(t,s,e){e(92);var a=e(0)(e(49),e(104),"data-v-626e46ce",null);t.exports=a.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"nav"},[e("div",{staticClass:"nav__link"},[e("router-link",{attrs:{to:"users"}},[t._v("users")])],1),t._v(" "),e("div",{staticClass:"nav__link"},[e("router-link",{attrs:{to:"stats"}},[t._v("statistics")])],1),t._v(" "),e("div",{staticClass:"nav__link"},[e("router-link",{attrs:{to:"background"}},[t._v("background")])],1)]),t._v(" "),e("h1"),t._v(" "),e("router-view")],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"stats"},[t.globalStats.users?e("div",{staticClass:"container"},[e("div",{staticClass:"stats__container"},[e("h1",[t._v("General activities")]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("\n          All users\n        ")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v("\n          "+t._s(t.formatNumber(t.globalStats.users.total))+"\n        ")])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("Active users")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.globalStats.users.active))])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("Inactive users")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v("\n          "+t._s(t.formatNumber(t.globalStats.users.inactive))+"\n        ")])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("Likes count")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v("\n          "+t._s(t.formatNumber(t.globalStats.likes.all))+"\n        ")])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("Like errors")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v("\n          "+t._s(t.formatNumber(t.globalStats.errors.all))+"\n        ")])])]),t._v(" "),e("div",{staticClass:"stats__container"},[e("h1",[t._v("Today fresh stats")]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("new sign ups")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.formatNumber(t.todayStats.users)||0))])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("new likes")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.formatNumber(t.todayStats.likes)))])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("errors")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.formatNumber(t.todayStats.errors)))])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("tasks set")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.formatNumber(t.todayTasks.all)))])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("tasks completed")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.formatNumber(t.todayTasks.success)))])])]),t._v(" "),e("div",{staticClass:"stats__container"},[e("h1",[t._v("Some percents")]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("Succeeded likes")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.successLikes)+"%")])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("failed likes")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.errorLikes)+"%")])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("active users")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.activeUsers)+"%")])])]),t._v(" "),e("div",{staticClass:"stats__container"},[e("h1",[t._v("Tasks")]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("Tasks")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.globalStats.tasks.all))])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("completed tasks")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.globalStats.tasks.success))])]),t._v(" "),e("div",{staticClass:"stats__block"},[e("div",{staticClass:"stats__value_desc"},[t._v("waiting tasks")]),t._v(" "),e("div",{staticClass:"stats__value"},[t._v(t._s(t.globalStats.tasks.all-t.globalStats.tasks.success))])])])]):e("div",[t._v("\n    loading\n  ")])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{domProps:{innerHTML:t._s(t.usersCount)}}),t._v(" "),e("br"),t._v(" "),t._l(t.users,function(s){return e("div",[e("div",[t._v(t._s(s))])])})],2)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"box"},[e("div",{staticClass:"box__title"},[t._v("Create new task")]),t._v(" "),e("ui-textbox",{directives:[{name:"model",rawName:"v-model",value:t.task.user_id,expression:"task.user_id"}],attrs:{label:"User id"},domProps:{value:t.task.user_id},on:{input:function(s){t.task.user_id=s}}}),t._v(" "),e("ui-textbox",{directives:[{name:"model",rawName:"v-model",value:t.task.target_id,expression:"task.target_id"}],attrs:{label:"Target id"},domProps:{value:t.task.target_id},on:{input:function(s){t.task.target_id=s}}}),t._v(" "),e("ui-textbox",{directives:[{name:"model",rawName:"v-model",value:t.task.item_id,expression:"task.item_id"}],attrs:{label:"Item id"},domProps:{value:t.task.item_id},on:{input:function(s){t.task.item_id=s}}}),t._v(" "),e("ui-button",{on:{click:function(s){t.setTask(t.task)}}},[t._v("\n    Set task\n  ")])],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("h1",[t._v("users")]),t._v(" "),e("div",{staticClass:"users"},t._l(t.users,function(s){return e("div",{staticClass:"user"},[e("div",[t._v(t._s(s))]),t._v(" "),e("div",{staticClass:"user__avatar"},[e("a",{attrs:{target:"_blank",href:"http://vk.com/id"+s.id}},[e("img",{staticClass:"avatar",attrs:{src:s.photo_100}})])]),t._v(" "),e("div",{staticClass:"user__stats"})])}))])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"stats__actions"},[e("ui-button",{on:{click:function(s){t.loadData()}}},[t._v("Load data")]),t._v(" "),e("ui-button",{attrs:{loading:t.recountingLikes.loading,type:"primary"},on:{click:function(s){t.recountLikes()}}},[t._v("recount likes")]),t._v(" "),e("ui-button",{attrs:{loading:t.recountingUsers.loading},on:{click:function(s){t.recountUsers()}}},[t._v("\n    recount users")])],1)},staticRenderFns:[]}},,,function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(6),i=e.n(a),n=e(21),r=e.n(n),o=e(39),u=e.n(o),l=e(36),c=e(38),_=(e.n(c),e(12)),v=e(41),d=e.n(v),f=e(42),k=e.n(f),m=e(7),g=e(40),h=e.n(g),b=e(37);e.d(s,"store",function(){return p}),r.a.use(m.a),r.a.use(d.a),r.a.use(k.a),r.a.use(h.a,"http://vkabuser.fletcherist.com");var p=new m.a.Store({state:{count:0,users:[],globalStats:{},todayStats:{}},mutations:i()({},k.a.mutations,{increment:function(t){t.count++},loadUsers:function(t,s){t.users=s}}),getters:{globalStats:function(t){return t.globalStats},todayStats:function(t){return t.todayStats}},actions:{loadUsers:function(t){var s=t.commit;_.a.ref("users").orderByChild("createdAt").limitToFirst(10).once("value",function(t){console.log(t.val());var a=e.i(b.a)(t.val());console.log(a),_.a.ref("statistics").once("value",function(t){var e=t.val();a.map(function(t){e[t.id]&&(t.you_liked=e[t.id].you_liked,t.liked_you=e[t.id].liked_you)}),s("loadUsers",a)})})}}});p.dispatch("loadUsers"),new r.a({el:"#app",router:l.a,store:p,template:"<App/>",components:{App:u.a}})}],[109]);
//# sourceMappingURL=app.5ce8a4c211297dca76b5.js.map